<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			table {
				border: 1px solid gray;
				margin-top: 50px;
				margin-left: auto;
				margin-right: auto;
				/*border-collapse: collapse;*/
				width: 500px;
				height: 200px;
			}
			
			.tr1 {
				background-color: darkgray;
			}
			
			.tr2 {
				background-color: lightgray;
			}
			
			#btn{
				text-align: center;
				margin-left: 0;
			}
		</style>
		<script type="text/javascript" src="js/jquery-1.8.3.min.js" ></script>
	</head>
	<body>
		<table>
			<thead>
				<tr>
					<td width="100" align="center"><input type="checkbox" id="topbtn" class=""/></td>
					<td>商品</td>
					<td>7000</td>
				</tr>
			</thead>
			<tbody id="tbody">
				<tr>
					<td><input type="checkbox"/></td>
					<td>苹果手机</td>
					<td>6000</td>
				</tr>
				<tr>
					<td><input type="checkbox" /></td>
					<td>小米手机</td>
					<td>5000</td>
				</tr>
				<tr>
					<td><input type="checkbox"/></td>
					<td>vivo手机</td>
					<td>4000</td>
				</tr>
				<tr>
					<td><input type="checkbox"/></td>
					<td>oppo手机</td>
					<td>4000</td>
				</tr>
			</tbody>
		</table>
		<input type="button" value="反选" id="reversebtn"/>
		<script>
			//制作样式
			var tNode = document.getElementsByTagName("tr");
			tNode[0].className = "tr1"
			for(i=1;i<tNode.length;i++){
				tNode[i].className = "tr2"
			}
			
			//全选
			var $singleNodes = $('tbody input');
//			console.dir($singleNodes);
			var $topNode = $('#topbtn');
//			console.dir($topNode);
			var $reverseNode = $('#reversebtn');
			$topNode.click(function(){
				var a = $(this).prop('checked');
//				alert(a);
				$singleNodes.prop('checked',a);
			});
			//反选
			$reverseNode.click(function(){
				var $uncheckedNodes = $("table input").not("input:checked");
				var $checkedNodes = $('table input:checked');
//				console.dir($uncheckedNodes);
//				console.dir($checkedNodes);
//				console.info($checkedNodes.prop('checked'));
				$checkedNodes.prop('checked',false);
				$uncheckedNodes.prop('checked',true);
//				console.dir($uncheckedNodes);
//				$topNode.prop('checked',$uncheckedNodes.prop('checked'));
				if($singleNodes.prop('checked') == true || $singleNodes.prop('checked') == false){
					$topNode.prop('checked',false);
				}
			})
			//单选复选控制
			$singleNodes.click(function(){
				var $uncheckedNodes = $("tbody input").not("input:checked");
//				console.dir($uncheckedNodes);
//				console.info($uncheckedNodes.prop('checked'));
				$topNode.prop('checked',$uncheckedNodes.prop('checked'));
			//	alert(!$uncheckedNodes.prop('checked'));
			//	alert(!!$uncheckedNodes.prop('checked'))
				if($uncheckedNodes.prop('checked') == undefined){
					$topNode.prop('checked',true);
				}
			})
		</script>
	</body>
</html>
